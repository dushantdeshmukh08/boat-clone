!function(){"use strict";const e=window.matchMedia("(max-width: 500px)").matches?"mobile":"desktop",t=function(){let e=window.navigator.userAgent,t=window.navigator.platform,n=null;/bot|googlebot|crawler|spider|robot|crawling/i.test(navigator.userAgent)?n="Bot":-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":!n&&/Linux/.test(t)&&(n="Linux");return n}();("Mac OS"===t||"iOS"===t)&&navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome");const n=()=>{let e,t=navigator.userAgent;return e=t.match(/chrome|chromium|crios/i)?"chrome":t.match(/firefox|fxios/i)?"firefox":t.match(/safari/i)?"safari":t.match(/opr\//i)?"opera":t.match(/edg/i)?"edge":"No browser detection",e};var i,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d=void 0!==a&&(a.crypto||a.msCrypto);if(d&&d.getRandomValues){var o=new Uint8Array(16);i=function(){return d.getRandomValues(o),o}}if(!i){var r=new Array(16);i=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}for(var s=i,l=[],u=0;u<256;++u)l[u]=(u+256).toString(16).substr(1);var c=function(e,t){var n=t||0,i=l;return i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+"-"+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]+i[e[n++]]},p=s,g=c;var y=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||p)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var d=0;d<16;++d)t[i+d]=a[d];return t||g(a)};const m=e=>{const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()};function w({name:e,path:t,maxAge:n,value:i}){document.cookie=`${e}=${i}; path=${t}; max-age=${n}`}const v=()=>m("_y").toLowerCase();Quinn.utils||(Quinn.utils={}),Quinn.utils.getUUID=()=>y(),Quinn.utils.getDistinctId=v,Quinn.utils.getCommonId=()=>localStorage.getItem("_quinn_common_id"),Quinn.utils.getSessionId=()=>{let e=sessionStorage.getItem("_quinn_session_id");return e||(e=y(),sessionStorage.setItem("_quinn_session_id",e),e)};const _={getGroup:()=>{const e=localStorage.getItem("_quinn-ab-test-group");return e||null},getTestId:()=>{const e=localStorage.getItem("_quinn-ab-test-current-id");return e||null},init:()=>{let e=50;if(Quinn.settings.ab_control_group_percentage&&(e=+Quinn.settings.ab_control_group_percentage),!Quinn.ABTestEnabled)return localStorage.removeItem("_quinn-ab-test-group"),void localStorage.removeItem("_quinn-ab-test-current-id");if(new URLSearchParams(window.location.search).get("quinnabgroup"))return localStorage.setItem("_quinn-ab-test-group","Z"),void localStorage.setItem("_quinn-ab-test-current-id",Quinn.ABTestId);const t=localStorage.getItem("_quinn-ab-test-current-id");if(t&&t===Quinn.ABTestId)return;const n=Math.random()<e/100?"A":"B";return localStorage.setItem("_quinn-ab-test-group",n),localStorage.setItem("_quinn-ab-test-current-id",Quinn.ABTestId),n},showWidget:({widget:e})=>{const t=_.shouldConsiderAB({widget:e}),n=_.getGroup();return!t||"A"!==n},shouldConsiderAB:({widget:e})=>{const{ab_enabled_on_pages:t,ab_enabled_for_widgets:n}=Quinn.settings,{page_type:i,page_handle:a}=Quinn,d=n||[],o=t||[],r=o.map((e=>null===e.type?{...e,handle:null,type:"home"}:e));let s,l=d.includes(e);return 0===d.length&&(l=!0),s=0===o.length||r.find((e=>e.type===i&&("quinn_all"===e.handle||e.handle===a))),s&&l}},f={randomUUID:y};function h(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)<<0;return Math.abs(t).toString(8)}const Q=e=>{const t=window.location.hostname;"127.0.0.1"===t||"localhost"===t||e.hostname.includes("shopifypreview")?(console.log("Quinn Event",e),console.groupCollapsed(e.eventname),console.log(JSON.stringify(e,null,2)),console.groupEnd()):navigator.sendBeacon("/apps/quinn/events",JSON.stringify(e))},b=()=>{const i=(()=>{const e={hostname:window.location.hostname.replace(/^www\./,"")};try{let t=m("_quinn-landing-page");t||(t=encodeURIComponent(window.location.href));const n=["utm_medium","utm_source","utm_campaign","utm_campaignid","utm_content","utm_term"],i=new URL(decodeURIComponent(t));for(let[t,a]of i.searchParams)n.includes(t)&&(t=t.replace("_",""),e[t]=a);w({name:"_quinn-landing-page",value:t,maxAge:1800,path:"/"})}catch(e){}return e})(),a=_.getGroup(),d=_.getTestId();return{...i,os:t,browser:n(),device:e,usergroup:a,testid:d}},C=async({eventName:e,payload:t})=>{if(!q(e))return;const n=e.split("quinn_").pop(),{sessionId:i,newSession:a}=(()=>{let e=m("_quinn-sessionid"),t=!1;return e||(e=f.randomUUID(),t=!0),w({name:"_quinn-sessionid",value:e,maxAge:1800,path:"/"}),{sessionId:e,newSession:t}})(),d=b(),o=Quinn.shop_domain,r=Quinn.version,{data:s,...l}=t,u=f.randomUUID(),c=v();a&&q("quinn_events_user_session_created")&&Q({eventname:"events_user_session_created",sessionid:i,distinctid:c,storename:o,appversion:r,timestamp:Date.now(),data:{eventid:u},...d,w:h(u+c)}),a&&"quinn_events_page_view"===e&&(l.type="first"),Q({eventname:n,sessionid:i,distinctid:c,storename:o,timestamp:Date.now(),appversion:r,data:{eventid:u,...s},...l,...d,w:h(u+c)})},x=["quinn_events_5secview"],q=e=>{if(x.includes(e))return!0;return(Quinn.settings.events||[]).includes(e)};Quinn.state||(Quinn.state={});const S=(e,t={})=>{e&&window.dispatchEvent(new CustomEvent(`onquinn${e}change`,{detail:t})),window.dispatchEvent(new CustomEvent("onquinnstatechange",{detail:Quinn.state}))},k=(e=0)=>{Quinn.state.group_media_index=e,S("group_media_index",e)},I={getCurrentPlaylist:()=>Quinn.state.playlist,getCurrentMedia:()=>Quinn.state.media,getCurrentMediaIndex:()=>Quinn.state.media_index,getCurrentProduct:()=>Quinn.state.product,getCurrentVariant:()=>Quinn.state.variant,getCurrentVariantOptions:()=>Quinn.state.variant_options,getCurrentProductQuantity:()=>Quinn.state.product_quantity,getOverlayCardsFetching:()=>Quinn.state.overlay_cards_fetching||!1,setCurrentPlaylist:(e={})=>{Quinn.state.playlist=e,S("playlist",e)},setCurrentMedia:(e={},t=0)=>{Quinn.state.media=e,Quinn.state.media_index=t,S("media",e),S("media_index",t)},setCurrentProduct:(e={})=>{Quinn.state.product=e,S("product",e)},setCurrentVariant:(e={})=>{Quinn.state.variant=e;const t={};Object.keys(e).forEach((n=>{n.startsWith("option")&&e[n]&&(t[n]=e[n])})),Quinn.state.variant_options=t,Quinn?.facebook_pixel_tracking&&window?.fbq&&(({change:e,unit:t,extraData:n={}})=>{if(Quinn?.facebook_pixel_tracking&&window?.fbq){const i={content_type:"variant",content_ids:[t.id],content_name:t.title,content_url:t.url,value:t.price,...n};window?.fbq("trackCustom",e,i)}})({change:"VariantChange",unit:e}),S("variant",e),S("variant_options",t)},setCurrentProductQuantity:(e=1)=>{"number"!=typeof e||e<1||(Quinn.state.product_quantity=e,S("product_quantity",e))},setOverlayCardsFetching:(e=!1)=>{Quinn.state.overlay_cards_fetching=e,S("overlay_cards_fetching",e)},setCurrentGroupMediaIndex:k,setCurrentGroupMediaIndex:k,getCurrentGroupMediaIndex:()=>Quinn.state.group_media_index,setCurrentVideoDetails:({duration:e,url:t})=>{Quinn.state.video_details={duration:e,url:t},S("video_details",Quinn.state.media.video_details)},getCurrentVideoDetails:()=>Quinn.state.video_details?Quinn.state.video_details:{duration:0,url:null},subscribe:(e,t=(()=>{}))=>{window.addEventListener(`onquinn${e}change`,t)},unsubscribe:(e,t=(()=>{}))=>{window.removeEventListener(`onquinn${e}change`,t)},clear:()=>{Quinn.state={},S()}};Quinn.GlobalState=I;const T=e=>JSON.parse(JSON.stringify(e)),O=async e=>{try{Quinn.apiCache||(Quinn.apiCache={});const t=Quinn.apiCache[e];if(t)return T(t);const n=await fetch(e),i=await n.text(),a=(new DOMParser).parseFromString(i,"text/html").getElementById("quinn-data-api").innerText,d=JSON.parse(a);return Quinn.apiCache[e]=d,T(d)}catch(e){console.log(e)}},E=(e,t)=>new Promise(((n,i)=>{if(t){const e=document.getElementById(t);if(e)return void("true"==e.dataset.loading?(e.addEventListener("load",(()=>n())),e.addEventListener("error",(()=>i()))):n())}const a=document.createElement("script");t&&a.setAttribute("id",t),a.setAttribute("data-loading",!0),a.type="application/javascript",a.addEventListener("load",(()=>{n(),a.setAttribute("data-loading",!1)})),a.addEventListener("error",(()=>{i(),a.remove()})),a.src=e,document.body.appendChild(a)}));function A(){const e=I.getCurrentPlaylist(),t=e?.key,n=e?.type,i=I.getCurrentMedia(),a=I.getCurrentGroupMediaIndex();return{playlistid:t,widgettype:n,type:e?.type,mediagroupid:"group"===i?.type?i?.key:null,mediaid:"group"===i?.type?i?.group[a||0]?.key:i?.key}}const L=e=>((e,t)=>{localStorage.setItem(e,JSON.stringify(t))})("_quinn-products-viewed",e),D=()=>(e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null})("_quinn-products-viewed")||[],M=(e,t)=>{t.pagepath=Quinn.page_handle,t.pagetype=Quinn.page_type,C({eventName:`quinn_${e}`,payload:t})},$=(e,t,n=null)=>{window.dispatchEvent(new CustomEvent("onquinnevents",{detail:{data:t,event:n,eventName:e}}))},P={productViewed:({productid:e,variantid:t,sku:n,handle:i,producttitle:a,price:d,type:o})=>{const r=A(),s=I.getCurrentMediaIndex(),l=I.getCurrentGroupMediaIndex();M("events_product_view",{productid:e,handle:i,variantid:t,...r,data:{index:s,subindex:l}}),$("product_viewed",{productid:e,producttitle:a,handle:i,variantid:t,sku:n,index:s,subindex:l});const u=D(),c=u.findIndex((t=>e===t.productid));c<0?u.push({productid:e,producttitle:a,variantid:t,timestamp:Date.now()}):u[c]={productid:e,producttitle:a,variantid:t,timestamp:Date.now()},L(u)},widgetLoaded:({playlistid:e,rendertime:t,widgettype:n})=>{M("events_widget_load",{playlistid:e,widgettype:n,data:{rendertime:t}}),$("widget_loaded",{playlistid:e,widgettype:n,rendertime:t})},widgetMediaLoaded:({playlistid:e,mediaid:t,loadtime:n,widgettype:i})=>{M("events_widget_media_load",{playlistid:e,mediaid:t,widgettype:i,data:{loadtime:n}}),$("widget_media_loaded",{playlistid:e,mediaid:t,widgettype:i,loadtime:n})},widgetClicked:({playlistid:e,mediaid:t,widgettype:n,...i},a)=>{$("widget_clicked",{playlistid:e,mediaid:t,widgettype:n,...i},a)},widgetSwiped:({playlistid:e,widgettype:t,direction:n},i)=>{const a=A();M("events_widget_swipe",{playlistid:e,widgettype:t,direction:n,...a}),$("widget_swiped",{playlistid:e,widgettype:t,direction:n},i)},widgetImpressionCreated:({playlistid:e,widgettype:t})=>{M("events_widget_impression",{playlistid:e,widgettype:t}),$("widget_impression_created",{playlistid:e,widgettype:t})},widgetOverlayOpened:({playlistid:e,widgettype:t,mediaid:n,productid:i,handle:a,variantid:d,index:o,subindex:r,price:s,type:l,producttitle:u,videoLink:c,videoTitle:p})=>{Quinn.overlayLoadEndTime=Date.now(),Quinn.lastOverlaySwipeTime=Date.now(),window?.fbq&&(Quinn?.facebook_pixel_tracking&&window?.fbq("track","ViewContent",{content_type:"product",content_ids:[i],content_name:u,content_category:l,value:s}),"sneakare-india.myshopify.com"===Quinn.shop_domain&&window?.fbq("trackCustom","quinnClick",{content_type:"product",content_ids:[i],product_name:u,content_category:l,value:s,videoLink:c,videoTitle:p}));const g=(Quinn.overlayLoadEndTime-Quinn.overlayLoadStartTime)/1e3;Quinn.overlayOpenTime=Date.now(),M("events_overlay_open",{playlistid:e,widgettype:t,mediaid:n,productid:i,handle:a,variantid:d,data:{loadtime:g,index:o,subindex:r}}),$("overlay_opened",{playlistid:e,widgettype:t,loadtime:g,mediaid:n,productid:i,handle:a,variantid:d,index:o})},widgetOverlaySwiped:({playlistid:e,mediaid:t,widgettype:n,type:i,duration:a,index:d,subindex:o})=>{const r=Quinn.lastOverlaySwipeTime||Quinn.overlayLoadEndTime,s=(Date.now()-r)/1e3,l=A();M("events_overlay_swipe",{playlistid:e,mediaid:t,widgettype:n,...l,type:i,data:{watchduration:s,videoduration:a?a+1e-5:a,index:d,subindex:o}}),$("overlay_swiped",{playlistid:e,mediaid:t,widgettype:n,type:i,watchduration:s,videoduration:a?parseFloat(a)+1e-4:a,index:d,subindex:o}),Quinn.lastOverlaySwipeTime=Date.now()},widgetOverlayClosed:({playlistid:e,widgettype:t})=>{let n=0;Quinn.overlayOpenTime&&(n=(Date.now()-Quinn.overlayOpenTime)/1e3),Quinn.overlayDuration&&(n=Quinn.overlayDuration/1e3),M("events_overlay_close",{playlistid:e,widgettype:t,data:{totaltime:n}}),$("overlay_closed",{playlistid:e,widgettype:t,totaltime:n}),Quinn.overlayOpenTime=null,Quinn.overlayDuration=null,Quinn.overlayLoadEndTime=null},widgetOverlayMediaLoaded:({mediaid:e,loadtime:t,type:n})=>{const i=I.getCurrentPlaylist(),a=i.key,d=i.type;M("events_overlay_media_load",{playlistid:a,mediaid:e,widgettype:d,type:n,data:{loadtime:t}}),$("overlay_media_loaded",{playlistid:a,mediaid:e,widgettype:d,loadtime:t,type:n})},widgetOverlayMediaInteracted:({playlistid:e,mediaid:t,widgettype:n,action:i,mediagroupid:a})=>{M("events_overlay_media_interaction",{playlistid:e,mediaid:t,widgettype:n,action:i,mediagroupid:a}),$("overlay_media_interacted",{playlistid:e,mediaid:t,widgettype:n,action:i,mediagroupid:a})},customActionTriggered:({action:e,name:t,value:n})=>{const i=A(),a=I.getCurrentProduct(),d=I.getCurrentVariant();M("events_custom_action",{playlistid:i?.playlistid,mediaid:i?.mediaid,widgettype:i?.widgettype,mediagroupid:i?.mediagroupid,action:e,name:t,value:n,productid:a?.id,handle:a?.handle,variantid:d?.id}),$("custom_action_events",{playlistid:i?.playlistid,mediaid:i?.mediaid,widgettype:i?.widgettype,mediagroupid:i?.mediagroupid,action:e,name:t,value:n,productid:a?.id,variantid:d?.id,sku:d?.sku,handle:a?.handle})},systemActionEvent:({action:e,name:t,value:n})=>{const i="events_system_action",a=A(),d=I.getCurrentProduct(),o=I.getCurrentVariant();"add_to_cart"===t&&"sneakare-india.myshopify.com"===Quinn.shop_domain&&window?.fbq&&window?.fbq("trackCustom","quinnAddToCart",{content_type:"product_group",content_ids:[d.id],content_name:d.title,content_category:d.type,value:d.price,currency:"INR",num_items:"1"}),M(i,{playlistid:a.playlistid,mediaid:a.mediaid,widgettype:a.widgettype,mediagroupid:a.mediagroupid,action:e,name:t,value:n,productid:d?.id,handle:d?.handle,variantid:o?.id}),$(i,{playlistid:a.playlistid,mediaid:a.mediaid,widgettype:a.widgettype,mediagroupid:a.mediagroupid,action:e,name:t,value:n,productid:d?.id,handle:d?.handle,variantid:o?.id}),$("events_custom_action",{playlistid:a.playlistid,mediaid:a.mediaid,widgettype:a.widgettype,mediagroupid:a.mediagroupid,action:e,name:t,value:n,productid:d?.id,handle:d?.handle,variantid:o?.id})},pageViewed:()=>{M("events_page_view",{})},firstScrollEvent:()=>{M("events_page_scroll",{})},ctaClicked:({playlistid:e,mediaid:t,widgettype:n,ctatitle:i,ctalink:a,index:d,subindex:o},r)=>{M("events_cta_clicked",{playlistid:e,mediaid:t,widgettype:n,ctatitle:i,ctalink:a,index:d,subindex:o}),$("cta_clicked",{playlistid:e,mediaid:t,widgettype:n,ctatitle:i,ctalink:a,index:d,subindex:o})},netSpeedCalculated:({speed:e})=>{M("events_net_speed",{data:{network:e}}),$("net_speed",{network:e})},overlayinfoOpened:()=>{const e=I.getCurrentProduct(),t=I.getCurrentVariant();$("overlay_info_opened",{productid:e?.id,variantid:t?.id,sku:t?.sku,handle:e?.handle})},viewCountEvent:async()=>{const e=A(),t=await(async({mediaId:e,card:t,...n})=>{e||(e=t.getAttribute("data-mediaid"));let i=`/pages/quinnapi/media::media_id:${e}`;i+=Object.keys(n).map((e=>`::${e}:${n[e]}`)).join("");const a=await O(i);if(Object.keys(a).length<1)return a;const d=(e=>{const t=[...e];return t.sort(((e,t)=>t.available-e.available)),t.map((e=>{if(e?.variants){const t=(e=>{const t=[...e];return t.sort(((e,t)=>t.available-e.available)),t})(e?.variants);return{...e,variants:t}}return e}))})(a.media.products.filter((e=>0!==e?.id?.length)));return{...a,media:{...a?.media,products:[...d]}}})({mediaId:e.mediaid});"sneakare-india.myshopify.com"===Quinn.shop_domain&&window?.fbq&&window?.fbq("trackCustom","quinnVideoView",{content_type:"media_5_sec_view",videoTitle:t.media.filename,videoLink:t?.media?.urls?.full}),M("events_5secview",{playlistid:e.playlistid,mediaid:e.mediaid,widgettype:e.widgettype,mediagroupid:e.mediagroupid})},netSpeedChanged:({speed:e,action:t,difference:n})=>{M("events_net_speed_change",{data:{speed:e,action:t,difference:n}}),$("net_speed_change",{speed:e,action:t,difference:n})}};Quinn.Events=P,Quinn.functions.openOverlay=async(...e)=>{Quinn.overlayLoadStartTime=Date.now(),Quinn.functions.toggleFullpageLoader(),await E(Quinn.overlay_url,"quinn-overlay-bundle"),document.body.style.overflow="hidden",Quinn.functions.setupOverlay(...e)},Quinn.functions.getPageWidgets=async({pageKey:e,pageType:t})=>{if(!e||!t)return void(Quinn.page_widgets=[]);let n=`/pages/quinnapi/pagewidgets::pagekey:${e}::pagetype:${t}`;const i=(await O(n)).data.filter((e=>"live"==e.status)).map((e=>{let t,n=e.type.split("_")[0];switch(n){case"cards":n="card",t=`quinn-cards-${e.layer}`;break;case"story":n="story",t="quinn-stories";break;case"floating":n="floating",t=0}return{playlistKey:e.playlistKey,type:n,domId:t}}));return Quinn&&(Quinn.page_widgets=i),i},Quinn.functions.openCollectionOverlay=async(...e)=>{Quinn.overlayLoadStartTime=Date.now(),Quinn.functions.toggleFullpageLoader(),await E(Quinn.collection_overlay_url,"quinn-collection-overlay-bundle"),Quinn.functions.setupCollectionOverlay(...e)};Quinn.functions.toggleFullpageLoader=()=>{const e=document.getElementById("quinn-full-page-loader");if(e)e.remove();else{const e=document.createElement("div");e.id="quinn-full-page-loader",e.style.display="flex",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.backgroundColor="rgba(0,0,0,.8)",e.style.justifyContent="center",e.style.alignItems="center",e.style.zIndex="9999",e.innerHTML=((e={color:"#fff",height:"70px",width:"70px"})=>{const{height:t,width:n,color:i}=e;return`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; background: none; display: block; shape-rendering: auto;" width="${n}" height="${t}" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">\n    <circle cx="50" cy="50" fill="none" stroke="${i}" stroke-width="8" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">\n      <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>\n    </circle>\n    </svg>`})(),document.body.appendChild(e)}},window.addEventListener("resize",(()=>{clearTimeout(Quinn.resizeTimer),Quinn.resizeTimer=setTimeout((()=>{Quinn.swiper&&Quinn.swiper.update()}),300)})),window.addEventListener("beforeunload",(function(e){const t=Quinn.state.playlist;t&&P.widgetOverlayClosed({playlistid:t?.key,widgettype:t?.type})})),Quinn.functions.toggleWidgetsVisibility=({widgetType:e,visibility:t})=>{const n={cards:["quinn_cards_widget","shoppable_cards"],stories:["quinn_story_widget","shoppable_stories"],floatings:["quinn_floating_container"]};if(!n[e])return void console.error(`Invalid widgetType value: ${e}, possible values are: ${Object.keys(n).join(", ")}`);console.log("toggleWidgetsVisibility",e);const i=n[e];document.querySelectorAll(i.map((e=>`.${e}`)).join(",")).forEach((e=>{t?e.classList.remove("quinn_widget--hidden"):e.classList.add("quinn_widget--hidden")}))},Quinn.functions.showWidgets=({widgetType:e})=>{Quinn.functions.toggleWidgetsVisibility({widgetType:e,visibility:!0})},Quinn.functions.hideWidgets=({widgetType:e})=>{Quinn.functions.toggleWidgetsVisibility({widgetType:e,visibility:!1})};const N=e=>{const t=D().find((t=>t.productid===e.id||t.producttitle===e.product_title)),n="gwp"==e.product_type||"gwp"==e.product_tag||0===e.price||0===e.final_price||0===e.final_line_price||0===e.line_price;if((t||Quinn.ABTestMode||Quinn.CartTracking)&&!n){const t={id:e.key,properties:{_y:v()}};return JSON.stringify(t)}},V=(e,t)=>{let n=e;if(!n)return[];if(t){if(n.properties?._y)return[];{const e=N(n);return Quinn.functions.updateCart?.(),[e]}}if(n.items){if(n.items[0].properties?._y)return[];{const e=n.items.map((e=>N(e)));return Quinn.functions.updateCart?.(),e}}};Quinn.interceptorCallback={Fetch:async function(e,t,n){try{const i=t.clone();if(e?.includes("/cart/add")||e?.includes("/cart/update")){const t=await i.json();V(t,e.includes("/cart/add")).forEach((e=>{e&&n("/cart/change.js",{method:"POST",headers:{"Content-Type":"application/json"},body:e})}))}(e?.includes("/cart/add")||e?.includes("/cart/change"))&&Quinn.functions.updateCart?.()}catch(e){console.log(e.message)}},XHR:function(e,t,n){try{if(e?.includes("/cart/add")||e?.includes("/cart/update")){const i=JSON.parse(t);V(i,e.includes("/cart/add")).forEach((e=>{if(e){const t=new n;t.open("POST","/cart/change.js",!0),t.setRequestHeader("Content-type","application/json"),t.send(e)}}))}(e?.includes("/cart/add")||e?.includes("/cart/change"))&&Quinn.functions.updateCart?.()}catch(e){console.log(e.message)}}};const j=()=>{P.pageViewed(),async function(){const e=D();if(!e)return;let t=null;if("product"==Quinn.page_type){const e=await fetch(`/products/${Quinn.page_handle}.js`);e.ok&&(t=await e.json())}document.querySelectorAll('form[action="/cart/add"]').forEach((n=>{let i=null;if(t)i=e.find((e=>e.productid==t.id||e.producttitle==t.product_title));else{const t=n.querySelector('input[name="id"]');if(t){const n=parseInt(t.value);i=e.find((e=>e.productid===n||e.variantid===n))}}if(i||Quinn.ABTestMode||Quinn.CartTracking){const e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name","properties[_y]"),e.setAttribute("value",v()),n.appendChild(e)}}))}()};let B=!1;document.addEventListener("DOMContentLoaded",(()=>{B||(B=!0,j())}),{once:!0}),document.addEventListener("visibilitychange",(()=>{Quinn.overlayOpenTime&&(Quinn.overlayDuration||(Quinn.overlayDuration=0),"visible"===document.visibilityState?Quinn.overlayOpenTime=Date.now():Quinn.overlayDuration+=Date.now()-Quinn.overlayOpenTime)})),window.addEventListener("scroll",(()=>{if(Quinn.scrollEventSent||window.scrollY<5)return;Quinn.scrollEventSent=!0;const e=sessionStorage.getItem("quinn_page_records")||"{}";let t={};try{t=JSON.parse(e)}catch(e){}const n=`${Quinn.page_type}_${Quinn.page_handle}`;t[n]||(t[n]||(t[n]=!0,sessionStorage.setItem("quinn_page_records",JSON.stringify(t))),P.firstScrollEvent())})),Quinn.watchTimeoutId=null;const U={imageAddr:"https://www.satsignal.eu/wxsat/msg-1-fc-40.jpg",downloadSize:2047553,getConnectionSpeed:()=>{try{window.Quinn.settings?.calc_net_speed&&!window.sessionStorage.getItem("_quinn-network")&&U.calculateNetworkSpeed()}catch(e){console.error(e)}},calculateNetworkSpeed:()=>{let e,t;const n=new Image;n.onload=function(){t=(new Date).getTime();const n=(t-e)/1e3,i=(((8*U.downloadSize/n).toFixed(2)/1024).toFixed(2)/1024).toFixed(2);window.sessionStorage.setItem("_quinn-network",i),console.log("calculated speed",i),P.netSpeedCalculated({speed:parseFloat(i)+.01})},n.onerror=function(e,t){console.error("Unable to calculate network speed. Error downloading test image",e)},e=(new Date).getTime();const i="?nnn="+e;n.src=U.imageAddr+i}};if(_.init(),U.getConnectionSpeed(),Quinn.pallet){let e=":root{";Object.keys(Quinn.pallet).forEach((t=>{e+=`  ${t}: ${Quinn.pallet[t]}; `})),e+="}";const t=document.createElement("style");t.setAttribute("id","quinn-style-pallet"),t.innerHTML=e,document.head.appendChild(t)}Quinn.developer_mode&&window.location.href.includes("shopifypreview")&&console.log("****************Dev mode turned on****************");"true"===new URLSearchParams(window.location.search).get("open_quinn_cart")&&window.addEventListener("DOMContentLoaded",(e=>{setTimeout((()=>{const{settings:e}=Quinn;if(window.OPEN_CART?window.OPEN_CART():document.querySelector('a[href="/cart"]').click(),e.overlay.cart_selector){const t=document.querySelector(e.overlay.cart_selector);if(t){const e=Quinn.settings.overlay.overlay_z_index||99999;t.style.zIndex=parseInt(e)+1}}}),1500)}))}();
